<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title> –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∂—É—Ä–Ω–∞–ª - –û–∑–µ—Ä–æ–≤ –î–∞–Ω–∏–ª –ò–ê-032 </title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="referrer" content="no-referrer">
		<style>
			* {
				font-size: 16px;
				padding: 0;
				margin: 0;
				border: none;
				font-family: Arial, Helvetica, sans-serif;
				font-weight: normal;
				outline: none;
				border-radius: 0;
				box-sizing: border-box;
			}

			b {
				font-weight: bold;
			}

			a {
				color:#07a;
				text-decoration: none;
			}
			a:hover {
				text-decoration: solid underline;
			}

			html {
				min-width: 320px;
				min-height: 100vh;
			}

			body {
				background-color: #ffffff;
			}

			#viewport {
				display:inline-block;
			}

			#header_wrapper {
				position: fixed;
				top: 0;
				left: 0;
				right: 0;
			}

			#header {
				width: 100%;
				padding: 16px 64px 16px 64px;
				color: #07a;
				background-color: #eee;
				cursor: pointer;
				user-select: none;
			}

			#phrase {
				font-size: 18px;
				font-style: italic;
				color: #888;
			}

			#header_title {
				font-size: 32px;
				font-weight: bold;
				color: #07a;
			}
			#header:hover #header_title {
				text-decoration: underline;
			}

			#nav_bar {
				font-size: 32px;
				width: 100%;
				display: flex;
				flex-direction: row;
				justify-content: start;
				align-items: center;
				align-content: center;
				flex-wrap: wrap;
				background-color: #07a;
				color: #fff;
			}
			.nav_btn {
				user-select: none;
				padding: 8px;
				cursor: pointer;
			}
			.nav_btn:hover {
				text-decoration: underline;
				background-color: #058;
			}
			.nav_active {
				font-weight: bold;
				text-decoration: underline;
			}

			input[type="file"] {
				display: none;
			}
			.file_upload_btn {
				padding: 6px 12px;
				cursor: pointer;
			}

			table {
				border-collapse: separate;
				border-spacing: 0;
			}
			th, td {
				border: 1px solid #ccc;
				padding: 8px;
			}
			thead {
				position: sticky;
				background-color: #fff;
			}
			.input_td {
				padding: 0;
			}

			.frame_padded {
				padding: 0 64px 0 64px;
			}

			.big_btn {
				display: inline-block;
				padding: 16px;
				cursor: pointer;
				text-align: center;
				user-select: none;
			}

			.big_btn:hover {
				text-decoration: underline;
			}

			.clickable {
				padding: 4px;
				cursor: pointer;
				text-align: center;
				user-select: none;
			}

			.clickable:hover {
				text-decoration: underline;
			}

			.table_del {
				color: #fff;
				background-color: #c03;
			}

			.table_set {
				color: #fff;
				background-color: #07a;
			}

			tbody tr:nth-child(odd) {
				background-color: #eee;
			}
			tbody tr:nth-child(even) {
				background-color: #fff;
			}

			th {
				text-align: left;
				font-weight: bold;
			}

			td input[type="text"] {
				box-sizing: border-box;
				background-color: transparent;
				min-width: 100%;
				width: 120px;
				padding: 8px;
			}

			.graphs_group {
				display: flex;
				flex-direction: row;
				flex-wrap: wrap;
			}
			.graph_wrapper {
				display: flex;
				flex-direction: row;
				justify-content: center;
				align-items: start;
				align-content: start;
				padding-left: 8px;
				padding-right: 8px;
			}
			.graph_section {
				display: flex;
				flex-direction: column;
				justify-content: center;
				align-items: center;
				align-content: center;
				max-width: 120px;
			}
			.graph_field {
				display: flex;
				flex-direction: column;
				justify-content: end;
				align-items: center;
				align-content: center;
				max-width: 60px;
			}
			.graph_caption {
				padding: 4px;
			}
			.graph_bar {
				margin-left: 4px;
				margin-right: 4px;
				width: 32px;
				background-color: #07a;
			}
			.graph_border {
				width: 100%;
				height: 2px;
				background-color: #000;
			}
			.graph_title {
				text-align: center;
				padding: 10px 10px 0px 10px;
			}
			.graph_footer {
				text-align: center;
				padding: 10px;
			}
			.flex_vert {
				display: flex;
				flex-direction: column;
				justify-content: start;
				align-items: start;
				align-content: start;
			}

			select {
				color: #fff;
				background-color: #07a;
				padding: 4px;
			}

			.hidden_default {
				display: none;
			}

			.title {
				font-size: 24px;
				font-weight: bold;
			}
		</style>
	</head>
	<body>
		<div id="viewport" class="frame_padded">
			<div style="display:none" id="frame_import">
				<br/>
				<span class="title"> –ò–º–ø–æ—Ä—Ç —Ç–∞–±–ª–∏—Ü—ã —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ </span><br/>
				<br/>
				–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å CSV —Ñ–∞–π–ª —Å –≤–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞, –∏–∑ –∫–æ—Ç–æ—Ä–æ–≥–æ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏.<br/>
				<br/>
				<label class="big_btn table_set" for="file_input"> –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª</label><br/>
				<br/>
				<div class="hidden_default">
					<b> –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ç–∞–±–ª–∏—Ü—ã: </b><br/>
					<br/>
					<input type="file" id="file_input" accept=".csv">
					<table id="import_table"><thead></thead><tbody></tbody></table>
					<br/>
				</div>
			</div>
			<div style="display:none" id="frame_export">
				<br/>
				<span class="title"> –≠–∫—Å–ø–æ—Ä—Ç —Ç–∞–±–ª–∏—Ü—ã —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ </span><br/>
				<br/>
				<div class="shown_default">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É.</div>
				<div class="hidden_default">
					–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ —Å–∫–∞—á–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É —Ç–∞–±–ª–∏—Ü–∞ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ –Ω–∞ –≤–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV.<br/>
					<br/>
					<a id="export_btn" class="big_btn table_set" download="grades.csv" class="nav_btn">–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ñ–∞–π–ª</a><br/>
				</div>
				<br/>
			</div>
			<div style="display:none" id="frame_edit">
				<br/>
				<span class="title"> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ </span><br/>
				<br/>
				<div class="shown_default">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É.</div>
				<div class="hidden_default">
					–ó–¥–µ—Å—å –≤—ã —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ü–µ–Ω–∫–∏ —É—á–µ–Ω–∏–∫–æ–≤.<br/>
					–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ –æ–± —É—á–µ–Ω–∏–∫–µ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <b>–£–¥–∞–ª–∏—Ç—å</b> –≤ –ø—Ä–∞–≤–æ–º –∫—Ä–∞—é —Ç–∞–±–ª–∏—Ü—ã.<br/>
					–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –æ–± —É—á–µ–Ω–∏–∫–µ, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É—é—â–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã–µ –≤ —Å–∞–º–æ–º –Ω–∏–∑—É —Ç–∞–±–ª–∏—Ü—ã –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <b>–ó–∞–ø–∏—Å–∞—Ç—å</b>. –ï—Å–ª–∏ –∑–∞–ø–∏—Å—å –æ –¥–∞–Ω–Ω–æ–º —É—á–µ–Ω–∏–∫–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –µ–≥–æ –æ—Ü–µ–Ω–∫–∏ –±—É–¥—É—Ç –∏–∑–º–µ–Ω–µ–Ω—ã –Ω–∞ –Ω–æ–≤—ã–µ.<br/>
					<br/>
					<table id="modification_table"><thead></thead><tbody></tbody></table>
				</div>
				<br/>
			</div>
			<div style="display:none" id="frame_table">
				<br/>
				<span class="title"> –¢–∞–±–ª–∏—Ü–∞ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ </span><br/>
				<br/>
				<div class="shown_default">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É.</div>
				<div class="hidden_default">
					–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±–æ–±—â—ë–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ.<br/>
					<br/>
					<table id="stats_table"><thead><tr>
						<th>–ü—Ä–µ–¥–º–µ—Ç</th><th>–ö–ª–∞—Å—Å</th>
						<th>–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª</th><th>–ú–µ–¥–∏–∞–Ω–∞</th>
						<th>5%</th><th>4%</th><th>3%</th><th>2%</th><th>1%</th>
						<th>5 –∫-–≤–æ</th><th>4 –∫-–≤–æ</th><th>3 –∫-–≤–æ</th><th>2 –∫-–≤–æ</th><th>1 –∫-–≤–æ</th>
					</tr></thead><tbody></tbody></table>
				</div>
				<br/>
			</div>
			<div style="display:none" id="frame_graph">
				<br/>
				<span class="title"> –ì—Ä–∞—Ñ–∏–∫–∏ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏ </span><br/>
				<br/>
				<div class="shown_default">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–Ω–∞—á–∞–ª–∞ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ —Ç–∞–±–ª–∏—Ü—É.</div>
				<div class="hidden_default">
					<br/>
					–ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –æ–±–æ–±—â—ë–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –≤–∏–¥–µ.<br/>
					–î–ª—è –Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –≤–∞—Å –ø—Ä–µ–¥–º–µ—Ç.<br/>
					<br/>
					<span>–ü—Ä–µ–¥–º–µ—Ç: </span><select id="subject_selector"></select><br/>
					<br/>
					<div id="graphs_div"></div>
				</div>
				<br/>
			</div>
			<div style="display:none" id="frame_help">
				<br/>
				<span class="title"> –û —Å–∞–π—Ç–µ </span><br/>
				<br/>
				–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∂—É—Ä–Ω–∞–ª —ç—Ç–æ –æ–¥–Ω–æ—Å—Ç—Ä–∞–Ω–∏—á–Ω—ã–π –≤–µ–±-—Å–∞–π—Ç –ø–æ–∑–≤–æ–ª—è—é—â–∏–π –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ—Ü–µ–Ω–∫–∏ —É—á–∞—â–∏—Ö—Å—è.<br/>
				<br/>
				<span class="title"> –ö–∞–∫ –ø–æ–ª–∑—å–æ–≤–∞—Ç—å—Å—è </span><br/>
				<br/>
				–î–ª—è –Ω–∞—á–∞–ª–∞ –≤–∞–º —Å–ª–µ–¥—É–µ—Ç –∑–∞–≥—Ä—É–∑–∏—Ç—å CSV —Ç–∞–±–ª–∏—Ü—É —Å –æ—Ü–µ–Ω–∫–∞–º–∏ —É—á–∞—â–∏—Ö—Å—è.<br/>
				–î–ª—è —ç—Ç–æ–≥–æ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É <b>–ò–º–ø–æ—Ä—Ç</b> –∏ –∑–∞–≥—Ä—É–∑–∏—Ç–µ CSV —Ñ–∞–π–ª, –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É <b>–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–π–ª</b>.<br/>
				<br/>
				<span class="title"> –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ü–µ–Ω–æ–∫ </span><br/>
				<br/>
				–í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å, –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ —É–¥–∞–ª–∏—Ç—å –æ—Ü–µ–Ω–∫–∏ —É—á–∞—â–∏—Ö—Å—è –ø–µ—Ä–µ–π–¥—è –≤–æ –≤–∫–ª–∞–¥–∫—É <b>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ü–µ–Ω–∫–∏</b>.<br/>
				–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–∏ –æ–± —É—á–µ–Ω–∏–∫–µ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <b>–£–¥–∞–ª–∏—Ç—å</b> –≤ –ø—Ä–∞–≤–æ–º –∫—Ä–∞—é —Ç–∞–±–ª–∏—Ü—ã.<br/>
				–ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –∏–ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å—å –æ–± —É—á–µ–Ω–∏–∫–µ, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Å–æ–æ—Ç–≤–µ—Ç—Å–≤—É—é—â–∏–µ —Ç–µ–∫—Å—Ç–æ–≤—ã–µ –ø–æ–ª—è, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã–µ –≤ —Å–∞–º–æ–º –Ω–∏–∑—É —Ç–∞–±–ª–∏—Ü—ã –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É <b>–ó–∞–ø–∏—Å–∞—Ç—å</b>. –ï—Å–ª–∏ –∑–∞–ø–∏—Å—å –æ –¥–∞–Ω–Ω–æ–º —É—á–µ–Ω–∏–∫–µ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –µ–≥–æ –æ—Ü–µ–Ω–∫–∏ –±—É–¥—É—Ç –∏–∑–º–µ–Ω–µ–Ω—ã –Ω–∞ –Ω–æ–≤—ã–µ.<br/>
				<br/>
				<span class="title"> –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π </span><br/>
				<br/>
				–°–∞–π—Ç –∞–≤—Ç–æ–º–æ—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø–æ–º–∏–Ω–∞–µ—Ç –≤–∞—à–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∞–∂–µ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã. –ï—Å–ª–∏ –∂–µ –≤—ã —Ö–æ—Ç–∏—Ç–µ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ç–∞–±–ª–∏—Ü—É, –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤–æ –≤–∫–ª–∞–¥–∫—É <b>–≠–∫—Å–ø–æ—Ä—Ç</b> –∏ –Ω–∞–∂–º–∏—Ç–µ –Ω–∞ <b>–≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Ñ–∞–π–ª</b>.<br/>
				<br/>
				<span class="title"> –ü—Ä–æ—Å–º–æ—Ç—Ä –æ–±–æ–±—â—ë–Ω–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ üòé </span><br/>
				<br/>
				–°–∞–π—Ç –≤—ã–≤–æ–¥–∏—Ç –æ–±–æ–±—â—ë–Ω–Ω—É—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏. –í–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –≤–∫–ª–∞–¥–∫–æ–π <b>–¢–∞–±–ª–∏—Ü–∞ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏</b> –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ —Ç–∞–±–ª–∏—á–Ω–æ–º –≤–∏–¥–µ, –∏–ª–∏ –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –≤–∫–ª–∞–¥–∫–æ–π <b>–ì—Ä–∞—Ñ–∏–∫–∏ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏</b> –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤ –≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–∏.<br/>
				<br/>
			</div>
			<div style="display:none" id="frame_about">
				<br/>
				<span class="title"> –û —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–µ </span><br/>
				<br/>
				<b>–ò–º—è:</b> –û–∑–µ—Ä–æ–≤ –î–∞–Ω–∏–ª<br/>
				<b>–ì—Ä—É–ø–ø–∞:</b> –ò–ê-032<br/>
				<b>–°–∞–π—Ç:</b> <a href="https://danbit.ru/">danbit.ru</a><br/>
				<b>Email:</b> <a href="mailto:danilozerovmail@gmail.com">danilozerovmail@gmail.com</a><br/>
				<br/>
			</div>
		</div>
		<div id="header_wrapper">
			<div id="header" class="frame_padded" onclick="openTab('help')">
				<span id="header_title">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–π –∂—É—Ä–Ω–∞–ª</span> <span id="phrase"></span>
			</div>
			<div id="nav_bar" class="frame_padded">
				<div class="nav_btn" id="nav_import" onclick="openTab('import')">–ò–º–ø–æ—Ä—Ç</div>
				<div class="nav_btn" id="nav_export" onclick="openTab('export')">–≠–∫—Å–ø–æ—Ä—Ç</div>
				<div class="nav_btn" id="nav_edit" onclick="openTab('edit')">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ü–µ–Ω–∫–∏</div>
				<div class="nav_btn" id="nav_table" onclick="openTab('table')">–¢–∞–±–ª–∏—Ü–∞ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏</div>
				<div class="nav_btn" id="nav_graph" onclick="openTab('graph')">–ì—Ä–∞—Ñ–∏–∫–∏ —É—Å–ø–µ–≤–∞–µ–º–æ—Å—Ç–∏</div>
				<div class="nav_btn" id="nav_help" onclick="openTab('help')">–ü–æ–º–æ—â—å</div>
				<div class="nav_btn" id="nav_about" onclick="openTab('about')">–û —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–µ</div>
			</div>
		</div>
		<script>
			const fileSelector = document.getElementById("file_input");
			const subjectSelector = document.getElementById("subject_selector");
			const importTable = document.getElementById("import_table");
			const modificationTable = document.getElementById("modification_table");
			const statsTable = document.getElementById("stats_table");
			const graphsDiv = document.getElementById("graphs_div");
			const phraseDiv = document.getElementById("phrase");
			const exportBtn = document.getElementById("export_btn");

			const phrases = ["Wololo!","beep-boop!","Never gonna give you up!", "Crudux Cruo!", "Hail to the king, baby!", "Finally, some sci-fi mumbo-jumbo!", "C418!", "640K ought to be enough for anyone!"];
			let phrase_idx = phrases.length-1;

			const ALL_CLASSES = "–≤—Å–µ –∫–ª–∞—Å—Å—ã";

			const names_map = new Map();
			names_map.set("name", "–§–ò–û");
			names_map.set("class", "–ö–ª–∞—Å—Å");
			names_map.set("informatics", "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞");
			names_map.set("physics", "–§–∏–∑–∏–∫–∞");
			names_map.set("mathemathics", "–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞");
			names_map.set("literature", "–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞");
			names_map.set("music", "–ú—É–∑—ã–∫–∞");
			function rename(name) {
				return names_map.get(name) || name;
			}
			const input_map = new Map();
			input_map.set("name", "–í–≤–µ–¥–∏—Ç–µ –§–ò–û —É—á–µ–Ω–∏–∫–∞...");
			input_map.set("class", "–ö–ª–∞—Å—Å...");

			const subjects = ["informatics","physics","mathemathics","literature","music"];

			class Group {
				average = 0.0;
				median = 0.0;
				min = 0;
				max = 0;
				count = 0;
				grades = [0,0,0,0,0];
			};

			let lines = [];
			const pos_mapping = new Map();

			function getOrInsertGroup(groupsMap, group) {
				let group_entry = groupsMap.get(group);
				if (group_entry === undefined) {
					group_entry = new Group();
					groupsMap.set(group, group_entry);
				}
				return group_entry;
			}
			function makeChart(header, titles, values, max, captions) {
				let ret = "<div class=\"graph\"><div class=\"graph_wrapper\">";
				for(let i = 0; i != titles.length; i++) {
					ret += "<div class=\"graph_section\"><div class=\"graph_field\" style=\"height:224px\">\
					<div class=\"graph_caption\">"+captions(values[i])+"</div>\
					<div class=\"graph_bar\" style=\"height:"+(200*values[i]/max)+"px\"></div>\
					</div>\
					<div class=\"graph_border\"></div>\
					<div class=\"graph_title\">"+titles[i]+"</div></div>";
				}
				if (header.length != 0) {
					ret += "</div><div class=\"graph_footer\">"+header+"</div></div>";
				} else {
					ret += "</div></div>";
				}
				return ret;
			}

			function loadedFile(csv) {
				if (exportBtn.href) {
					URL.revokeObjectURL(exportBtn.href);
				}
				exportBtn.href = URL.createObjectURL(new Blob([csv], {type: "text/csv"}));

				lines = csv.split("\n").filter(l => l.trim().length != 0).map(l => l.split(";").map(s=>s.trim()));

				pos_mapping.clear();
				const subjects_groups = new Map();
				for(subject of subjects) {
					subjects_groups.set(subject, new Map());
				}
				let idx = 0;
				let thead = "<tr>";
				let thead_editable = "<tr>";
				for (let col of lines[0]) {
					pos_mapping.set(col, idx++);
					thead += "<th>"+rename(col)+"</th>";
					thead_editable += "<th>"+rename(col)+"</th>";
				}
				thead += "</tr>";
				thead_editable += "<th>–ú–æ–¥–µ—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å</th></tr>";
				let tbody = "";
				let tbody_editable = "";
				for(let i = 1; i != lines.length; i++) {
					tbody += "<tr>";
					for (let col of lines[i]) {
						tbody += "<td>"+col+"</td>";
						tbody_editable += "<td>"+col+"</td>";
					}
					tbody_editable += "<td><div class=\"table_del clickable\" onclick=\"deleteRow("+i+")\">- –£–¥–∞–ª–∏—Ç—å</div></td></tr>";
					tbody += "</tr>";

					const clazz = lines[i][pos_mapping.get("class")];
					for (let subject of subjects) {
						const grade = parseInt(lines[i][pos_mapping.get(subject)], 10);
						let subject_groups = subjects_groups.get(subject);
						let clazz_group = getOrInsertGroup(subject_groups, clazz);
						let all_classes_group = getOrInsertGroup(subject_groups, ALL_CLASSES);
						for(group of [clazz_group, all_classes_group]) {
							group.grades[grade-1]++;
							group.average += grade;
							group.min = Math.min(group.min, grade);
							group.max = Math.max(group.max, grade);
							group.count++;
						}
					}
				}
				for (let i = 0; i != lines[0].length; i++) {
					tbody_editable += "<td class=\"input_td\"><input type=\"text\" placeholder=\""+(input_map.get(lines[0][i]) || "–û—Ü–µ–Ω–∫—É...")+"\"></input></td>";
				}
				tbody_editable += "<td><div class=\"table_set clickable\" onclick=\"setRow()\">+ –ó–∞–ø–∏—Å–∞—Ç—å</div></td></tr>";

				importTable.childNodes[0].innerHTML = thead;
				importTable.childNodes[1].innerHTML = tbody;
				modificationTable.childNodes[0].innerHTML = thead_editable;
				modificationTable.childNodes[1].innerHTML = tbody_editable;
				let hidden = document.getElementsByClassName("hidden_default");
				while(hidden.length !== 0) {
					hidden[0].classList.remove("hidden_default");
				}
				for(let e of document.getElementsByClassName("shown_default")) {
					e.style.display = "none";
				}

				let graph_body = "";
				tbody = "";
				let subject_id = "";
				let subject_selector = "";
				for(let [subject_name, subject_groups] of subjects_groups.entries()) {
					subject_selector += "<option value=\""+ (subject_id++) +"\">"+rename(subject_name)+"</option>";

					const sortedGroups = Array.from(subject_groups.entries()).sort((a, b)=>a[0].localeCompare(b[0]));

					graph_body += "<div style=\"display:none\">";
					for(let [groupName, group] of sortedGroups) {
						group.average /= group.count;
						group.median = (group.max - group.min) / 2;
						
						tbody += "<tr>\
						<td>" + rename(subject_name) + "</td>\
						<td>" + groupName + "</td>\
						<td>" + group.average.toFixed(2) + "</td>\
						<td>" + group.median.toFixed(2) + "</td>";
						const percentages = [];
						for(let i = 4; i != -1; i--) {
							const percentage = 100 * group.grades[i] / group.count;
							percentages.push(percentage);
							tbody += "<td>" + Math.round(percentage) + "%</td>";
						}
						for(let i = 4; i != -1; i--) {
							tbody += "<td>" + group.grades[i] + "</td>";
						}
						tbody += "</tr>";
						graph_body += "<b class=\"title\"><br/><br/>"+rename(subject_name) + ", "+ groupName+":</b><div class=\"graphs_group\">";
						graph_body += makeChart("", ["–°—Ä–µ–¥–Ω–∏–π<br/>–±–∞–ª–ª", "–ú–µ–¥–∏–∞–Ω–∞<br/>–æ—Ü–µ–Ω–æ–∫"], [group.average, group.median], 5, n => n.toFixed(2));
						graph_body += makeChart("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤<br/>–≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö", ["5", "4", "3", "2", "1"], percentages, 100, n => Math.round(n)+"%");
						graph_body += makeChart("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–ª–ª–æ–≤", ["5", "4", "3", "2", "1"], group.grades.reverse(), 10, n=>n);
						graph_body += "</div>";
					}
					graph_body += "</div>";
				}
				subjectSelector.innerHTML = subject_selector;
				statsTable.childNodes[1].innerHTML = tbody;
				statsTable.style.display = "block";
				graphsDiv.innerHTML = graph_body;
				current_subject = 0;
				subjectSelector.value = "0";
				graphsDiv.childNodes[0].style.display = "block";
			}

			function compileLines() {
				return lines.map(l=>l.join("; ")).join("\n");
			}

			function deleteRow(i) {
				lines.splice(i,1);
				const csv = compileLines();
				localStorage.setItem("csv", csv);
				loadedFile(csv);
			}

			function setRow() {
				let lastRow = modificationTable.childNodes[1].lastChild;
				let namePos = pos_mapping.get("name");
				let name = lastRow.childNodes[namePos].firstChild.value.trim();
				let newValue = [];
				for (let i = 0; i != lastRow.childNodes.length-1; i++) {
					newValue.push(lastRow.childNodes[i].firstChild.value.trim());
				}
				for (let i = 0; i != lines.length; i++) {
					if (lines[i][namePos] === name) {
						lines[i] = newValue;
						newValue = undefined;
						break;
					}
				}
				if (newValue) {
					lines.push(newValue);
				}
				const csv = compileLines();
				localStorage.setItem("csv", csv);
				loadedFile(csv);
			}

			const fileReader = new FileReader();
			fileReader.addEventListener("load", e => {
				localStorage.setItem("csv", e.target.result);
				loadedFile(e.target.result);
			});

			fileSelector.addEventListener("change", () => {
				fileReader.readAsText(fileSelector.files[0]);
			});

			let current_subject = 0;
			subjectSelector.addEventListener("change", () => {
				graphsDiv.childNodes[current_subject].style.display = "none";
				current_subject = parseInt(subjectSelector.value, 10);
				graphsDiv.childNodes[current_subject].style.display = "block";
			});

			let current_tab = "";
			function openTab(tab_name) {
				if(++phrase_idx === phrases.length) {
					phrases.sort(() => Math.random() - 0.5);
					phrase_idx = 0;
				}
				phraseDiv.innerText = " - "+phrases[phrase_idx];

				if (tab_name !== current_tab) {
					if (current_tab.length !== 0) {
						document.getElementById("frame_"+current_tab).style.display = "none";
						document.getElementById("nav_"+current_tab).classList.remove("nav_active");
					}
					document.getElementById("frame_"+tab_name).style.display = "block";
					document.getElementById("nav_"+tab_name).classList.add("nav_active");
					current_tab = tab_name;
					localStorage.setItem("tab", tab_name);
				}
				onResizeListener();
			}

			function onResizeListener() {
				const header_height = document.getElementById("header_wrapper").clientHeight+"px";
				document.getElementById("viewport").style.paddingTop = header_height;
				for(let e of document.getElementsByTagName("thead")) {
					e.style.top = header_height;
				}
			}
			window.addEventListener("resize", onResizeListener);

			{
				onResizeListener();
				const csv = localStorage.getItem("csv");
				if (csv) {
					loadedFile(csv);
				}
				openTab(localStorage.getItem("tab") || "help");
			}
		</script>
	</body>
</html>
